## 一致性理论基础

### ACID vs BASE

**ACID**

DBMS数据库事物必须要满足这样四个特性

- Atomicty，原子性，一个事物要么全部执行成功，要么都不执行
- Consistency，一致性，事物开始前和开始后数据的完整性约束没有被改变
- Isolation，隔离性，多个事物并发至性不会导致数据不一致
- Durability，事物一旦执行成功，就无法改变

**BASE**

- BasicallyAvailable，基本可用
- Soft State，软状态
- Eventual consistent，最终一致

ACID作为传统型数据库的基础，主要强调数据的一致性；BASE作为分布式理论的基础，强调服务的高可靠。要做到强一致性，在可用性方面必然受损，要保证集群绝对的可用，就无法做到绝对的一致，也就是接下来要讨论的CAP理论

**CAP**

- Consistency，一致性
- Available，可用性
- Partition tolerence，分区容错

在分布式集群中，CAP三个特性无法同时满足，也就是通常所讲CAP“三选二”。

在现实场景下，数据在网络中传输，不存在绝对可靠的网络，因此我们认为故障时必然会出现的。在这个绝对的前提下，我们提出如下几个假设

假设一：在分区模式下，数据存在多个副本在网络中，一致性和可用性不可能同时保证。

假设二：数据绝对一致，传统数据库架构，那就不是分布式集群。

假设三：服务绝对可用，如果出现网络故障可能出现数据丢失或者导致数据不一致的情况。